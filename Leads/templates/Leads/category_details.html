{% extends 'basic.html' %}
{% block title %} {{ category.name }} - Details {% endblock %}

{% block body %}
<section class="text-gray-600 body-font">
  <div class="container px-5 py-24 mx-auto">
    <div class="flex flex-col text-center w-full mb-20">
      <h1 class="sm:text-4xl text-3xl font-medium title-font mb-2 text-gray-900">{{ category.name }}</h1>
      <p class="lg:w-2/3 mx-auto leading-relaxed text-base">Leads under this category are shown below.</p>
    </div>
    <div class="lg:w-2/3 w-full mx-auto overflow-auto">
      {% if category.leads.all.exists %}
      <table class="table-auto w-full text-left whitespace-no-wrap">
        <thead>
          <tr>
            <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100 rounded-tl rounded-bl">First Name</th>
            <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100 rounded-tl rounded-bl">Last Name</th>
          </tr>
        </thead>
        <tbody>
        {% for lead in category.leads.all %}
          <tr>
            <td class="px-4 py-3"><a href="{% url 'lead-details' lead.id %}">{{ lead.first_name }}</a></td>
            <td class="px-4 py-3"><a href="{% url 'lead-details' lead.id %}">{{ lead.last_name }}</a></td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
      {% else %}
        <p>No leads for this category!</p>
        {% endif %}
      <div class="mt-5 border-t border-gray-200 py-5">
         <a href="{% url 'category-home' %}" class="mt-3 hover:text-blue-500">Back</a>
     </div>
    </div>

  </div>
</section>
{% endblock %}